# Install LightGBM on Centos 7.5

yum install bzip2 git cmake3 opencl-headers
ln -s /usr/bin/cmake3 ~/bin/cmak

## Boost Lib

wget https://dl.bintray.com/boostorg/release/1.67.0/source/boost_1_67_0.tar.gz
tar -xzf boost_1_67_0.tar.gz boost_1_67_0/
cd boost_1_67_0/
./bootstrap.sh --prefix=/opt/boost
./b2 install --prefix=/opt/boost --with=all

## LightGBM

git clone --recursive https://github.com/Microsoft/LightGBM
cd LightGBM
mkdir build
cd build
cmake -DUSE_GPU=1 -DOpenCL_LIBRARY=/usr/local/cuda/lib64/libOpenCL.so -DOpenCL_INCLUDE_DIR=/usr/local/cuda/include/ -DBOOST_ROOT=/opt/boost/ ..
make -j4

### Python Package
sudo yum install -y https://centos7.iuscommunity.org/ius-release.rpm
yum install python36u python36u-devel python36u-pip
pip3.6 install numpy scipy scikit-learn pandas
cd ../python-package
python3.6 setup.py install --precompile -O2
